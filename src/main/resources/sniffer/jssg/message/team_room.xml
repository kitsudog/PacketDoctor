<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE config PUBLIC "//Message/" "message.dtd">
<config namespace="room">

	<protocol id="0x002B0102" alias="syncRoomInfo">
		<!-- 具体需要哪些数据需要讨论 -->
		<toClient desc="同步房间信息">
			<param fieldName="mapId" tag="1" fieldType="int32" desc="地图ID" />
			<param fieldName="owner" tag="2" fieldType="string" desc="房主" />
			<param fieldName="roomId" tag="3" fieldType="string" desc="房间ID" />
			<param fieldName="is_first_team_map" tag="4" fieldType="bool"
				desc="是否第一次打精英副本"></param>
		</toClient>
	</protocol>

	<protocol id="0x002B0202" alias="syncMemberInfo">
		<toClient desc="同步房间的成员信息">
			<param fieldName="uid" tag="1" fieldType="string" repeated="true"
				desc="玩家ID"></param>
			<param fieldName="uname" tag="2" fieldType="string" repeated="true"
				desc="玩家名称"></param>
			<param fieldName="ucamp" tag="3" fieldType="int32" repeated="true"
				desc="玩家的阵营"></param>
			<param fieldName="inDuplicate" tag="4" fieldType="bool"
				repeated="true" desc="玩家是否在副本中"></param>
			<param fieldName="ubody" tag="5" fieldType="int32" repeated="true"
				desc="玩家BodyID"></param>
			<param fieldName="level" tag="6" fieldType="int32" repeated="true"
				desc="玩家等级"></param>
			<param fieldName="force" tag="7" fieldType="int32" repeated="true"
				desc="玩家战力"></param>
			<param fieldName="weapon" tag="8" fieldType="int32" repeated="true"
				desc="玩家武器ID"></param>
			<param fieldName="isOnline" tag="9" fieldType="bool" repeated="true"
				desc="是否在线"></param>
			<param fieldName="position" tag="10" fieldType="int32"
				repeated="true" desc="玩家位置"></param>
			<param fieldName="job_id" tag="11" fieldType="int32" repeated="true"
				desc="职业ID"></param>
			<param fieldName="vipLevel" tag="12" fieldType="int32"
				repeated="true" desc="VIP等级"></param>
			<param fieldName="vipTime" tag="13" fieldType="string"
				repeated="true" desc="时间"></param>
			<param fieldName="wing_id" tag="14" fieldType="int32" repeated="true"
				desc="翅膀"></param>
			<param fieldName="halo_id" tag="15" fieldType="int32" repeated="true"
				desc="光环"></param>
			<param fieldName="title_id" tag="16" fieldType="int32"
				repeated="true" desc="光环"></param>
			<param fieldName="is_first_team_map" tag="17" fieldType="bool"
				desc="是否第一次打精英副本"></param>
		</toClient>
	</protocol>


	<protocol id="0x002B0302" alias="createRoom">
		<!-- 成功后 1 同步房间信息 2 同步成员信息 -->
		<toServer desc="创建房间"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="create">
			<param fieldName="mapId" tag="1" fieldType="int32" desc="地图ID" />
		</toServer>
	</protocol>


	<protocol id="0x002B0402" alias="invitePlayer">
		<toClient desc="通知客户端有人邀请">
			<param fieldName="uid" tag="1" fieldType="string" desc="玩家ID"></param>
			<param fieldName="uname" tag="2" fieldType="string" desc="玩家名称"></param>
			<param fieldName="ucamp" tag="3" fieldType="int32" desc="玩家的阵营"></param>
			<param fieldName="ulevel" tag="4" fieldType="int32" desc="玩家的等级"></param>
			<param fieldName="roomId" tag="5" fieldType="string" desc="房间ID"></param>
			<param fieldName="roomId" tag="6" fieldType="int32" desc="地图ID"></param>
		</toClient>
		<toServer desc="邀请进入房间"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="invitePlayer">
			<param fieldName="targetId" tag="1" fieldType="string" desc="玩家ID" />
		</toServer>
	</protocol>


	<protocol id="0x002B0502" alias="enterRoom">

		<toClient desc="同意进入结果">
			<param fieldName="ret" tag="1" fieldType="bool"
				desc="是否成功 true 成功 false 失败" />
			<param fieldName="reason" tag="2" fieldType="int32"
				desc="1 房间已消失或者已经进入副本 （主要是需要谈提示框） 2 其他" />
		</toClient>
		<!-- 成功后 1 同步房间信息 2 同步成员信息 -->
		<toServer desc="同意邀请，并且进入房间"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="enterRoom">
			<param fieldName="roomId" tag="1" fieldType="string" desc="房间ID"></param>
		</toServer>
	</protocol>

	<protocol id="0x002B0602" alias="removePlayer">
		<!-- 成功后 1 同步成员信息 -->
		<toClient desc="通知客户端被移除了房间">
			<param fieldName="mapId" tag="1" fieldType="int32" desc="所在房间的地图ID" />
		</toClient>
		<toServer desc="将玩家移出房间"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="removePlayer">
			<param fieldName="targetId" tag="1" fieldType="string" desc="要移除的玩家的ID" />
		</toServer>
	</protocol>

	<protocol id="0x002B0702" alias="leaveRoom">
		<toClient desc="通知客户端有人离开房间了">
		</toClient>
		<toServer desc="离开房间"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="leaveRoom">
		</toServer>
	</protocol>

	<protocol id="0x002B0802" alias="changeOwner">
		<!-- 成功后同步房间信息 -->
		<toServer desc="移交房主"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="changeRoomOwner">
			<param fieldName="targetId" tag="1" fieldType="string" desc="要移交给的玩家的ID" />
		</toServer>
	</protocol>

	<protocol id="0x002b0902" alias="changeMap">
		<!-- 成功后同步房间信息 -->
		<toServer desc="改变地图"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="changeMap">
			<param fieldName="mapId" tag="1" fieldType="int32" desc="新的地图ID" />
		</toServer>
	</protocol>


	<protocol id="0x002B0B02" alias="findCanInvitedUser">
		<toClient desc="同步帮派、好友、附近没有房间的玩家">
			<param fieldName="uid" tag="1" fieldType="string" repeated="true"
				desc="玩家ID"></param>
			<param fieldName="uname" tag="2" fieldType="string" repeated="true"
				desc="玩家名称"></param>
			<param fieldName="ucamp" tag="3" fieldType="int32" repeated="true"
				desc="玩家的阵营"></param>
			<param fieldName="ulevel" tag="4" fieldType="int32" repeated="true"
				desc="玩家的等级"></param>
			<param fieldName="ujobId" tag="5" fieldType="int32" repeated="true"
				desc="玩家的职业ID"></param>
			<param fieldName="type" tag="6" fieldType="int32" repeated="true"
				desc="1-好友 2-帮派 3-附近"></param>
			<param fieldName="vipLevel" tag="7" fieldType="int32" repeated="true"
				desc="VIP等级"></param>
			<param fieldName="vipTime" tag="8" fieldType="string" repeated="true"
				desc="时间"></param>
		</toClient>
		<toServer desc="获取帮派、好友、附近没有房间的玩家"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="findCanInvitedUser">
		</toServer>
	</protocol>


	<protocol id="0x002b0C02" alias="quicklyMatching">
		<toServer desc="快速匹配"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="quicklyMatching">
			<param fieldName="mapId" tag="1" fieldType="int32" desc="地图ID"></param>
		</toServer>
	</protocol>

	<protocol id="0x002b0D02" alias="startMatching">
		<toClient desc="同步匹配信息">
			<param fieldName="avgWaitTime" tag="1" fieldType="int32" desc="平均等待时间"></param>
		</toClient>
		<toServer desc="开始匹配"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="startMatching">
		</toServer>
	</protocol>

	<protocol id="0x002b0E02" alias="匹配成功">
		<toClient desc="组队成功同步队友信息">
			<param fieldName="uid" tag="1" fieldType="string" repeated="true"
				desc="玩家ID"></param>
			<param fieldName="uname" tag="2" fieldType="string" repeated="true"
				desc="玩家名称"></param>
			<param fieldName="ucamp" tag="3" fieldType="int32" repeated="true"
				desc="玩家的阵营"></param>
			<param fieldName="ulevel" tag="4" fieldType="int32" repeated="true"
				desc="玩家的等级"></param>
			<param fieldName="jobId" tag="5" fieldType="int32" repeated="true"
				desc="玩家的职业ID"></param>
			<param fieldName="is_first_team_map" tag="6" fieldType="bool"
				desc="是否第一次打精英副本"></param>
		</toClient>
	</protocol>

	<protocol id="0x002b1002" alias="cancleMatch">
		<toClient desc="取消匹配结果">
			<param fieldName="ret" tag="1" fieldType="bool" desc="取消是否成功"></param>
		</toClient>
		<toServer desc="取消匹配"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="cancleMatching">
		</toServer>
	</protocol>

	<protocol id="0x002b1102" alias="cancleEnter">
		<toClient desc="取消进入结果">
			<param fieldName="uid" tag="1" fieldType="bool" desc="成功与否"></param>
		</toClient>
		<toServer desc="取消进入"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="cancleEnter">
		</toServer>
	</protocol>

	<protocol id="0x002b1202" alias="leaveTeam">
		<toClient desc="通知有人离开">
			<param fieldName="uid" tag="1" fieldType="bool" desc="离开场景的结果"></param>
		</toClient>
		<toServer desc="离开队伍"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="leaveTeam">
		</toServer>
	</protocol>

	<protocol id="0x002b1302" alias="mappingList">
		<toClient desc="正在匹配的玩家">
			<param fieldName="uid" tag="1" fieldType="string" repeated="true"
				desc="玩家ID"></param>
			<param fieldName="uname" tag="2" fieldType="string" repeated="true"
				desc="玩家名称"></param>
			<param fieldName="ucamp" tag="3" fieldType="int32" repeated="true"
				desc="玩家的阵营"></param>
			<param fieldName="ulevel" tag="4" fieldType="int32" repeated="true"
				desc="玩家的等级"></param>
			<param fieldName="ujobId" tag="5" fieldType="int32" repeated="true"
				desc="玩家的职业ID"></param>
			<param fieldName="vipLevel" tag="6" fieldType="int32" repeated="true"
				desc="VIP等级"></param>
			<param fieldName="vipTime" tag="7" fieldType="string" repeated="true"
				desc="时间"></param>
		</toClient>
		<toServer desc="正在匹配的玩家"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="mappingList">
		</toServer>
	</protocol>


	<protocol id="0x002b1402" alias="availableRoomList">
		<toClient desc="游戏大厅里的房间">
			<param fieldName="id" tag="1" fieldType="string" repeated="true"
				desc="房间ID"></param>
			<param fieldName="mapId" tag="2" fieldType="int32" repeated="true"
				desc="地图ID"></param>
			<param fieldName="palyerCount" tag="3" fieldType="int32"
				repeated="true" desc="人数"></param>
			<param fieldName="is_first_team_map" tag="4" fieldType="bool"
				desc="是否第一次打精英副本"></param>
		</toClient>
		<toServer desc="游戏大厅里的房间列表"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="availableRoomList">
			<param fieldName="mapId" tag="1" fieldType="int32" desc="mapID"></param>
			<param fieldName="hall" tag="2" fieldType="int32"
				desc="所属大厅 1 组队精英副本大厅 2 挑战类副本大厅 3 组队竞技副大厅本"></param>
		</toServer>
	</protocol>


	<protocol id="0x002b1502" alias="findRoom">
		<toServer desc="一个房间信息"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="findRoom">
			<param fieldName="roomId" tag="1" fieldType="string" desc="房间ID"></param>
			<param fieldName="hall" tag="2" fieldType="int32" desc="大厅类型"></param>
		</toServer>
	</protocol>

	<protocol id="0x002b1602" alias="quicklyInvite">

		<toClient desc="快速邀请结果">
			<param fieldName="ret" tag="1" fieldType="bool" desc="传音令不足"></param>
		</toClient>
		<toServer desc="快速邀请"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="quicklyInvite">
			<param fieldName="inviteeMsg" tag="1" fieldType="string" desc="内容"></param>
		</toServer>
	</protocol>

	<protocol id="0x002b1702" alias="startKickout">
		<toClient desc="通知客户端踢出房主倒计时开始">
			<param fieldName="time" tag="1" fieldType="int64" desc="倒计时截止时间"></param>
		</toClient>
	</protocol>

	<protocol id="0x002b1802" alias="cancleKickout">
		<toClient desc="通知客户端踢出房主倒计时取消">
		</toClient>
	</protocol>


	<protocol id="0x002b1902" alias="firstEnterMap">
		<toServer desc="第一次进入精英副本(特殊接口)"
			class="com.kueem.webgame.game.action.game.TeamRoomAction" method="firstEnterMap">
		</toServer>
	</protocol>

</config>
